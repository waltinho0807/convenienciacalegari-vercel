(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{"0/fc":function(e,n,t){"use strict";t.d(n,"documentRef",(function(){return r}));var r={current:"undefined"===typeof document?null:document};"undefined"===typeof window||window},G2iu:function(e,n,t){"use strict";t("17x9");var r=t("iBGE");function a(e){return Object(r.a)(e),null}a.displayName="EventListener",a.propTypes={},a.defaultProps={capture:!1},n.a=a},LyKl:function(e,n,t){"use strict";t.r(n);var r=t("o0o1"),a=t.n(r),i=t("HaE+"),o=t("q1tI"),c=t.n(o),u=t("vDqi"),s=t.n(u),l=t("yE/o"),d=t("Te8g"),p=t("WYlG"),f=t("MqQV"),m=t("5XkN"),v=t("aQu0"),h=t("D1pA"),b=t("3mGJ"),g=t("QetY"),y=t("hHGt"),k=t("nOHt"),w=t("ODXe"),C=t("Pj1C"),O=t("T5N5"),j=t("GUDI"),N=t("rjN7"),E=c.a.createElement,S=function(e){var n=e.order,t=c.a.useState("delivered"===n.status),r=Object(w.a)(t,2),u=r[0],l=r[1],d=Object(o.useRef)(!0);Object(o.useEffect)((function(){d.current?d.current=!1:p()}),[u]);var p=function(){var e=Object(i.a)(a.a.mark((function e(){var t,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(N.a,"/api/orders"),r={_id:n._id,status:u?"delivered":"pending"},e.next=4,s.a.put(t,r);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return E(c.a.Fragment,null,E(f.a,{color:"blue",content:Object(j.a)(n.createdAt)}),E(C.a,{trigger:E(O.a,{toggle:!0,onChange:function(){l((function(e){return!e}))},label:u?"Delivered":"Pending",checked:u,fitted:!0}),header:"Delivery Status",content:u?"Delivered":"Pending",position:"top center",on:["hover"]}))},T=c.a.createElement,D=function(e){var n=e.orders,t=Object(k.useRouter)();return T(c.a.Fragment,null,T(v.a,{as:"h2"},T(h.a,{name:"folder open"}),"Orders"),0===n.length?T(b.a,{inverted:!0,tertiary:!0,color:"pink",textAlign:"center"},T(v.a,{icon:!0},T(h.a,{name:"copy outline"}),"No Past Orders."),T(g.a,{onClick:function(){return t.push("/products")},color:"violet"},"View Products")):T(y.a,{fluid:!0,styled:!0,exclusive:!1,panels:function(e){return e.map((function(e){return{key:e._id,title:{content:T(S,{order:e})},content:{content:T(c.a.Fragment,null,T(p.a.Header,{as:"h3"},"Total: $",e.total,T(f.a,{content:e.email,icon:"mail",basic:!0,horizontal:!0,style:{marginLeft:"1em"}})),T(p.a,null,e.products.map((function(e){return T(p.a.Item,{key:e.product._id},T(m.a,{avatar:!0,src:e.product.mediaUrl}),T(p.a.Content,null,T(p.a.Header,null,e.product.name),T(p.a.Description,null,e.quantity," x $",e.product.price)),T(p.a.Content,{floated:"right"},T(f.a,{tag:!0,color:"red",size:"tiny"},e.product.sku)))}))))}}}))}(n)}))},x=c.a.createElement,I=function(e){var n=e.user,t=e.orders;return x(d.a,{user:n},x(l.a,{className:"order-history-area"},x(D,{orders:t})))};I.getInitialProps=Object(i.a)(a.a.mark((function e(){var n,t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(N.a,"/api/all-orders"),e.next=3,s.a.get(n);case 3:return t=e.sent,e.abrupt("return",t.data);case 5:case"end":return e.stop()}}),e)})));n.default=I},ODXe:function(e,n,t){"use strict";function r(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function a(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var t=[],r=!0,a=!1,i=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(t.push(o.value),!n||t.length!==n);r=!0);}catch(u){a=!0,i=u}finally{try{r||null==c.return||c.return()}finally{if(a)throw i}}return t}}(e,n)||function(e,n){if(e){if("string"===typeof e)return r(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?r(e,n):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}t.d(n,"a",(function(){return a}))},SMlj:function(e,n,t){"use strict";t.d(n,"a",(function(){return c})),t.d(n,"c",(function(){return u})),t.d(n,"b",(function(){return s}));var r=t("p46w"),a=t.n(r),i=t("nOHt"),o=t.n(i),c=function(e){a.a.set("token",e),o.a.push("/profile")},u=function(e,n){e.req?(e.res.writeHead(302,{Location:n}),e.res.end()):o.a.push(n)},s=function(){a.a.remove("token"),window.localStorage.setItem("logout",Date.now()),o.a.push("/")}},Te8g:function(e,n,t){"use strict";var r=t("q1tI"),a=t.n(r),i=t("pVnL"),o=t.n(i),c=t("MVZn"),u=t.n(c),s=t("lwsE"),l=t.n(s),d=t("W8MJ"),p=t.n(d),f=t("a1gu"),m=t.n(f),v=t("Nsbk"),h=t.n(v),b=t("PJYZ"),g=t.n(b),y=t("7W2i"),k=t.n(y),w=t("lSNA"),C=t.n(w),O=t("Og4/"),j=t.n(O),N=t("G2iu"),E=t("0/fc"),S=t("6yfk"),T=t("PXC7"),D=t("85CM"),x=t("TSYQ"),I=t.n(x),P=(t("17x9"),t("xZFD")),A=t("ZeOK"),R=t("ICNK"),H=t("Y53p"),U=t("H+2d");function L(e){var n=e.className,t=e.children,r=e.content,i=I()("pushable",n),c=Object(R.a)(L,e),u=Object(H.a)(L,e);return a.a.createElement(u,o()({},c,{className:i}),U.b.isNil(t)?r:t)}L.handledProps=["as","children","className","content"],L.propTypes={};var _=L;function F(e){var n=e.className,t=e.dimmed,r=e.children,i=e.content,c=I()("pusher",Object(A.a)(t,"dimmed"),n),u=Object(R.a)(F,e),s=Object(H.a)(F,e);return a.a.createElement(s,o()({},u,{className:c}),U.b.isNil(r)?i:r)}F.handledProps=["as","children","className","content","dimmed"],F.propTypes={};var G=F,J=function(e){function n(e){var t;return l()(this,n),t=m()(this,h()(n).call(this,e)),C()(g()(t),"ref",Object(r.createRef)()),C()(g()(t),"handleAnimationStart",(function(){var e=t.props.visible?"onVisible":"onHide";clearTimeout(t.animationTimer),t.animationTimer=setTimeout(t.handleAnimationEnd,n.animationDuration),t.skipNextCallback?t.skipNextCallback=!1:j()(t.props,e,null,t.props)})),C()(g()(t),"handleAnimationEnd",(function(){var e=t.props.visible?"onShow":"onHidden";t.setState({animationTick:0}),j()(t.props,e,null,t.props)})),C()(g()(t),"handleDocumentClick",(function(e){Object(P.a)(t.ref.current,e)||(t.skipNextCallback=!0,j()(t.props,"onHide",e,u()({},t.props,{visible:!1})))})),t.state={animationTick:0,visible:e.visible},t}return k()(n,e),p()(n,[{key:"componentDidUpdate",value:function(e,n){this.state.animationTick>n.animationTick&&this.handleAnimationStart()}},{key:"componentWillUnmount",value:function(){clearTimeout(this.animationTimer)}},{key:"render",value:function(){var e=this.props,t=e.animation,r=e.className,i=e.children,c=e.content,u=e.direction,s=e.target,l=e.visible,d=e.width,p=this.state.animationTick,f=I()("ui",t,u,d,Object(A.a)(p>0,"animating"),Object(A.a)(l,"visible"),"sidebar",r),m=Object(R.a)(n,this.props),v=Object(H.a)(n,this.props),h=Object(S.a)(s)?s:Object(T.a)(s);return a.a.createElement(D.a,{innerRef:this.ref},a.a.createElement(v,o()({},m,{className:f}),U.b.isNil(i)?c:i,l&&a.a.createElement(N.a,{listener:this.handleDocumentClick,targetRef:h,type:"click"})))}}],[{key:"getDerivedStateFromProps",value:function(e,n){var t=!!e.visible===!!n.visible?0:1;return{animationTick:n.animationTick+t,visible:e.visible}}}]),n}(r.Component);C()(J,"defaultProps",{direction:"left",target:E.documentRef,visible:!1}),C()(J,"animationDuration",500),C()(J,"autoControlledProps",["visible"]),C()(J,"Pushable",_),C()(J,"Pusher",G),C()(J,"handledProps",["animation","as","children","className","content","direction","onHidden","onHide","onShow","onVisible","target","visible","width"]),J.propTypes={};var q=J,M=t("R6OX"),X=t("D1pA"),B=t("T5N5"),V=t("3mGJ"),Y=t("nOHt"),Z=t("SMlj"),K=a.a.createElement;n.a=function(e){var n=e.children,t=e.user,i=Object(r.useState)(!0),o=i[0],c=i[1],u=Object(Y.useRouter)(),s=t&&"root"==t.role,l=t&&"admin"==t.role,d=s||l,p=function(e){return e==u.pathname};return K(q.Pushable,null,K(q,{as:M.a,animation:"push",icon:"labeled",vertical:!0,visible:o,width:"thin"},d&&K(a.a.Fragment,null,K(M.a.Item,{as:"a",onClick:function(){return u.push("/admin/dashboard")},active:p("/admin/dashboard")},K(X.a,{name:"dashboard"}),"Dashboard"),K(M.a.Item,{as:"a",onClick:function(){return u.push("/admin/add-product")},active:p("/admin/add-product")},K(X.a,{name:"add square"}),"Criar Produto"),K(M.a.Item,{as:"a",onClick:function(){return u.push("/admin/orders")},active:p("/admin/orders")},K(X.a,{name:"ordered list"}),"Ordems"),K(M.a.Item,{as:"a",onClick:function(){return u.push("/admin/customers")},active:p("/admin/customers")},K(X.a,{name:"users"}),"Clientes"),s&&K(a.a.Fragment,null,K(M.a.Item,{as:"a",onClick:function(){return u.push("/admin/users")},active:p("/admin/users")},K(X.a,{name:"users"}),"Admin/Users")),K(M.a.Item,{as:"a",onClick:Z.b},K(X.a,{name:"sign-out"}),"Logout"))),K(q.Pusher,null,K(B.a,{toggle:!0,label:o?"Hide Sidebar":"Show Sidebar",onClick:function(){c((function(e){return!e}))}}),K(V.a,{basic:!0},n)))}},dkTe:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/orders",function(){return t("LyKl")}])},iBGE:function(e,n,t){"use strict";var r=t("q1tI"),a=function(e,n){return e&&!!e.current&&!!e.current[n]};n.a=function(e){var n=e.capture,t=e.listener,i=e.type,o=e.targetRef,c=r.useRef(t);c.current=t;var u=r.useCallback((function(e){return c.current(e)}),[]);r.useEffect((function(){return a(o,"addEventListener")&&o.current.addEventListener(i,u,n),function(){a(o,"removeEventListener")&&o.current.removeEventListener(i,u,n)}}),[n,o,i])}},p46w:function(e,n,t){var r,a;!function(i){if(void 0===(a="function"===typeof(r=i)?r.call(n,t,n,e):r)||(e.exports=a),!0,e.exports=i(),!!0){var o=window.Cookies,c=window.Cookies=i();c.noConflict=function(){return window.Cookies=o,c}}}((function(){function e(){for(var e=0,n={};e<arguments.length;e++){var t=arguments[e];for(var r in t)n[r]=t[r]}return n}function n(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function t(r){function a(){}function i(n,t,i){if("undefined"!==typeof document){"number"===typeof(i=e({path:"/"},a.defaults,i)).expires&&(i.expires=new Date(1*new Date+864e5*i.expires)),i.expires=i.expires?i.expires.toUTCString():"";try{var o=JSON.stringify(t);/^[\{\[]/.test(o)&&(t=o)}catch(s){}t=r.write?r.write(t,n):encodeURIComponent(String(t)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),n=encodeURIComponent(String(n)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var c="";for(var u in i)i[u]&&(c+="; "+u,!0!==i[u]&&(c+="="+i[u].split(";")[0]));return document.cookie=n+"="+t+c}}function o(e,t){if("undefined"!==typeof document){for(var a={},i=document.cookie?document.cookie.split("; "):[],o=0;o<i.length;o++){var c=i[o].split("="),u=c.slice(1).join("=");t||'"'!==u.charAt(0)||(u=u.slice(1,-1));try{var s=n(c[0]);if(u=(r.read||r)(u,s)||n(u),t)try{u=JSON.parse(u)}catch(l){}if(a[s]=u,e===s)break}catch(l){}}return e?a[e]:a}}return a.set=i,a.get=function(e){return o(e,!1)},a.getJSON=function(e){return o(e,!0)},a.remove=function(n,t){i(n,"",e(t,{expires:-1}))},a.defaults={},a.withConverter=t,a}((function(){}))}))}},[["dkTe",0,1,2,3,4,5,6,7,8,9,10,13]]]);