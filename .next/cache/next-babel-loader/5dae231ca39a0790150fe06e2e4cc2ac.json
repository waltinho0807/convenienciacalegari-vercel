{"ast":null,"code":"import cookie from 'js-cookie';\nimport Router from 'next/router';\nexport var handleLogin = function handleLogin(token) {\n  cookie.set('token', token);\n  Router.push('/profile');\n};\nexport var redirectUser = function redirectUser(ctx, location) {\n  if (ctx.req) {\n    ctx.res.writeHead(302, {\n      Location: location\n    });\n    ctx.res.end();\n  } else {\n    Router.push(location);\n  }\n};\nexport var handleLogout = function handleLogout() {\n  cookie.remove('token');\n  window.localStorage.setItem('logout', Date.now());\n  Router.push('/');\n};","map":{"version":3,"sources":["C:/Users/User/Documents/convenienciacalegari-vercel/utils/auth.js"],"names":["cookie","Router","handleLogin","token","set","push","redirectUser","ctx","location","req","res","writeHead","Location","end","handleLogout","remove","window","localStorage","setItem","Date","now"],"mappings":"AAAA,OAAOA,MAAP,MAAmB,WAAnB;AACA,OAAOC,MAAP,MAAmB,aAAnB;AAEA,OAAO,IAAMC,WAAW,GAAG,SAAdA,WAAc,CAACC,KAAD,EAAW;AAClCH,EAAAA,MAAM,CAACI,GAAP,CAAW,OAAX,EAAoBD,KAApB;AACAF,EAAAA,MAAM,CAACI,IAAP,CAAY,UAAZ;AACH,CAHM;AAKP,OAAO,IAAMC,YAAY,GAAG,SAAfA,YAAe,CAACC,GAAD,EAAMC,QAAN,EAAmB;AAC3C,MAAGD,GAAG,CAACE,GAAP,EAAW;AACPF,IAAAA,GAAG,CAACG,GAAJ,CAAQC,SAAR,CAAkB,GAAlB,EAAuB;AAAEC,MAAAA,QAAQ,EAAEJ;AAAZ,KAAvB;AACAD,IAAAA,GAAG,CAACG,GAAJ,CAAQG,GAAR;AACH,GAHD,MAGO;AACHZ,IAAAA,MAAM,CAACI,IAAP,CAAYG,QAAZ;AACH;AACJ,CAPM;AASP,OAAO,IAAMM,YAAY,GAAG,SAAfA,YAAe,GAAM;AAC9Bd,EAAAA,MAAM,CAACe,MAAP,CAAc,OAAd;AACAC,EAAAA,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,QAA5B,EAAsCC,IAAI,CAACC,GAAL,EAAtC;AACAnB,EAAAA,MAAM,CAACI,IAAP,CAAY,GAAZ;AACH,CAJM","sourcesContent":["import cookie from 'js-cookie';\r\nimport Router from 'next/router';\r\n\r\nexport const handleLogin = (token) => {\r\n    cookie.set('token', token);\r\n    Router.push('/profile');\r\n}\r\n\r\nexport const redirectUser = (ctx, location) => {\r\n    if(ctx.req){\r\n        ctx.res.writeHead(302, { Location: location });\r\n        ctx.res.end();\r\n    } else {\r\n        Router.push(location);\r\n    }\r\n}\r\n\r\nexport const handleLogout = () => {\r\n    cookie.remove('token');\r\n    window.localStorage.setItem('logout', Date.now());\r\n    Router.push('/');\r\n}"]},"metadata":{},"sourceType":"module"}