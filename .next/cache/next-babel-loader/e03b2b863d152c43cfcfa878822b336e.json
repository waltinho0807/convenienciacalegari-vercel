{"ast":null,"code":"import User from '../../models/User';\nimport jwt from 'jsonwebtoken';\nimport connectDb from '../../utils/connectDb';\nconnectDb();\nexport default (async (req, res) => {\n  try {\n    const {\n      userId\n    } = jwt.verify(req.headers.authorization, process.env.JWT_SECRET);\n    const users = await User.find({\n      _id: {\n        $ne: userId\n      }\n    }).sort({\n      role: 'asc'\n    });\n    res.status(200).json(users);\n  } catch (error) {\n    // console.error(error)\n    res.status(403).send(\"Please login\");\n  }\n});","map":{"version":3,"sources":["C:/Users/walter/Desktop/shoponix-mern-next-ecommerce-store/shoponix/pages/api/users.js"],"names":["User","jwt","connectDb","req","res","userId","verify","headers","authorization","process","env","JWT_SECRET","users","find","_id","$ne","sort","role","status","json","error","send"],"mappings":"AAAA,OAAOA,IAAP,MAAiB,mBAAjB;AACA,OAAOC,GAAP,MAAgB,cAAhB;AACA,OAAOC,SAAP,MAAsB,uBAAtB;AAEAA,SAAS;AAET,gBAAe,OAAOC,GAAP,EAAYC,GAAZ,KAAoB;AAC/B,MAAI;AACA,UAAM;AAAEC,MAAAA;AAAF,QAAaJ,GAAG,CAACK,MAAJ,CAAWH,GAAG,CAACI,OAAJ,CAAYC,aAAvB,EAAsCC,OAAO,CAACC,GAAR,CAAYC,UAAlD,CAAnB;AACA,UAAMC,KAAK,GAAG,MAAMZ,IAAI,CAACa,IAAL,CAAU;AAAEC,MAAAA,GAAG,EAAE;AAACC,QAAAA,GAAG,EAAEV;AAAN;AAAP,KAAV,EAAkCW,IAAlC,CAAuC;AAACC,MAAAA,IAAI,EAAE;AAAP,KAAvC,CAApB;AACAb,IAAAA,GAAG,CAACc,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBP,KAArB;AACH,GAJD,CAIE,OAAOQ,KAAP,EAAc;AACZ;AACAhB,IAAAA,GAAG,CAACc,MAAJ,CAAW,GAAX,EAAgBG,IAAhB,CAAqB,cAArB;AACH;AACJ,CATD","sourcesContent":["import User from '../../models/User';\nimport jwt from 'jsonwebtoken';\nimport connectDb from '../../utils/connectDb';\n\nconnectDb();\n\nexport default async (req, res) => {\n    try {\n        const { userId } = jwt.verify(req.headers.authorization, process.env.JWT_SECRET);\n        const users = await User.find({ _id: {$ne: userId} }).sort({role: 'asc'});\n        res.status(200).json(users);\n    } catch (error) {\n        // console.error(error)\n        res.status(403).send(\"Please login\");\n    }\n}\n"]},"metadata":{},"sourceType":"module"}