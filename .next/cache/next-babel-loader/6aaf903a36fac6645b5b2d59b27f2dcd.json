{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\walter\\\\Desktop\\\\shoponix-mern-next-ecommerce-store\\\\shoponix\\\\components\\\\Product\\\\ProductAttributes.js\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport React from 'react';\nimport { Header, Button, Modal, TransitionablePortal } from 'semantic-ui-react';\nimport axios from 'axios';\nimport baseUrl from '../../utils/baseUrl';\nimport Router, { useRouter } from 'next/router';\n\nvar ProductAttributes = function ProductAttributes(_ref) {\n  _s();\n\n  var description = _ref.description,\n      _id = _ref._id,\n      user = _ref.user;\n\n  var _React$useState = React.useState(false),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      modal = _React$useState2[0],\n      setModal = _React$useState2[1];\n\n  var router = useRouter();\n  var isRoot = user && user.role == 'root';\n  var isAdmin = user && user.role == 'admin';\n  var isRootOrAdmin = isRoot || isAdmin;\n\n  var handleDelete = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var url, payload;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              url = \"\".concat(baseUrl, \"/api/product\");\n              payload = {\n                params: {\n                  _id: _id\n                }\n              };\n              axios[\"delete\"](url, payload);\n              router.push('/');\n\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function handleDelete() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  return __jsx(React.Fragment, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 9\n    }\n  }, isRootOrAdmin && __jsx(React.Fragment, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 17\n    }\n  }, __jsx(Button, {\n    icon: \"edit\",\n    color: \"green\",\n    content: \"Update Product\",\n    onClick: function onClick() {\n      return Router.replace(\"/admin/product/edit/\".concat(_id));\n    },\n    className: \"mr-10\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 21\n    }\n  }), __jsx(Button, {\n    icon: \"trash alternate outline\",\n    color: \"red\",\n    content: \"Delete Product\",\n    onClick: function onClick() {\n      return setModal(true);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 21\n    }\n  }), __jsx(TransitionablePortal, {\n    open: modal,\n    onOpen: function onOpen() {\n      return setTimeout(function () {\n        return document.body.classList.add('modal-fade-in');\n      }, 0);\n    },\n    transition: {\n      animation: 'scale',\n      duration: 500\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 21\n    }\n  }, __jsx(Modal, {\n    open: modal,\n    size: \"mini\",\n    dimmer: \"blurring\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 21\n    }\n  }, __jsx(Modal.Header, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 25\n    }\n  }, \"Confirm Delete\"), __jsx(Modal.Content, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 25\n    }\n  }, __jsx(\"p\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 29\n    }\n  }, \"Are you sure you want to delete this product?\")), __jsx(Modal.Actions, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 25\n    }\n  }, __jsx(Button, {\n    onClick: function onClick() {\n      return setModal(false);\n    },\n    content: \"Cancel\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 29\n    }\n  }), __jsx(Button, {\n    negative: true,\n    icon: \"trash\",\n    labelPosition: \"right\",\n    content: \"Delete\",\n    onClick: handleDelete,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 29\n    }\n  }))))));\n};\n\n_s(ProductAttributes, \"AAlgg+MhkH81x5y34aRPSrLAwTs=\", false, function () {\n  return [useRouter];\n});\n\n_c = ProductAttributes;\nexport default ProductAttributes;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProductAttributes\");","map":{"version":3,"sources":["C:/Users/walter/Desktop/shoponix-mern-next-ecommerce-store/shoponix/components/Product/ProductAttributes.js"],"names":["React","Header","Button","Modal","TransitionablePortal","axios","baseUrl","Router","useRouter","ProductAttributes","description","_id","user","useState","modal","setModal","router","isRoot","role","isAdmin","isRootOrAdmin","handleDelete","url","payload","params","push","replace","setTimeout","document","body","classList","add","animation","duration"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Header, Button, Modal, TransitionablePortal } from 'semantic-ui-react';\nimport axios from 'axios';\nimport baseUrl from '../../utils/baseUrl';\nimport Router, { useRouter } from 'next/router';\n\nconst ProductAttributes = ({ description, _id, user }) => {\n    const [modal, setModal] = React.useState(false);\n    const router = useRouter();\n\n    const isRoot = user && user.role == 'root';\n    const isAdmin = user && user.role == 'admin';\n    const isRootOrAdmin = isRoot || isAdmin;\n\n    const handleDelete = async () => {\n        const url = `${baseUrl}/api/product`;\n        const payload = { params: { _id } }\n        axios.delete(url, payload);\n        router.push('/');\n    }\n\n    return (\n        <React.Fragment>\n            { isRootOrAdmin && (\n                <React.Fragment>\n                    <Button\n                        icon=\"edit\" \n                        color=\"green\"\n                        content=\"Update Product\"\n                        onClick={() => Router.replace(`/admin/product/edit/${_id}`)} \n                        className=\"mr-10\"\n                    />\n                    <Button\n                        icon=\"trash alternate outline\" \n                        color=\"red\"\n                        content=\"Delete Product\"\n                        onClick={() => setModal(true)}\n                    />\n                    <TransitionablePortal\n                        open={modal}\n                        onOpen={() => setTimeout(() => document.body.classList.add('modal-fade-in'), 0)}\n                        transition={{animation: 'scale', duration: 500}}\n                    >\n                    <Modal open={modal} size=\"mini\" dimmer=\"blurring\">\n                        <Modal.Header>Confirm Delete</Modal.Header>\n                        <Modal.Content>\n                            <p>Are you sure you want to delete this product?</p>\n                        </Modal.Content>\n                        <Modal.Actions>\n                            <Button\n                                onClick={() => setModal(false)}\n                                content=\"Cancel\" \n                            />\n                            <Button \n                                negative\n                                icon=\"trash\"\n                                labelPosition=\"right\"\n                                content=\"Delete\" \n                                onClick={handleDelete}\n                            />\n                        </Modal.Actions>\n                    </Modal>\n                    </TransitionablePortal>\n                </React.Fragment>\n            )}\n            \n        </React.Fragment>\n    );\n}\n\nexport default ProductAttributes;\n"]},"metadata":{},"sourceType":"module"}