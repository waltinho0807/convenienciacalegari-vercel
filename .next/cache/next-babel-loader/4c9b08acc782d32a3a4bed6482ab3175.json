{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\walter\\\\Desktop\\\\shoponix-mern-next-ecommerce-store\\\\shoponix\\\\components\\\\Orders\\\\OrderStatus.js\";\nvar __jsx = React.createElement;\nimport React, { useEffect, useRef } from 'react';\nimport axios from 'axios';\nimport { Label, Checkbox, Popup } from 'semantic-ui-react';\nimport formatDate from '../../utils/formatDate';\nimport baseUrl from '../../utils/baseUrl';\n\nconst OrderStatus = ({\n  order\n}) => {\n  const [delivered, setDelivered] = React.useState(order.status === 'delivered');\n  const isFirstRun = useRef(true);\n  useEffect(() => {\n    if (isFirstRun.current) {\n      isFirstRun.current = false;\n      return;\n    }\n\n    updateStatus();\n  }, [delivered]);\n\n  const updateStatus = async () => {\n    const url = `${baseUrl}/api/orders`;\n    const payload = {\n      _id: order._id,\n      status: delivered ? \"delivered\" : \"pending\"\n    };\n    await axios.put(url, payload);\n  };\n\n  const handleChangeStatus = () => {\n    setDelivered(prevState => !prevState);\n  };\n\n  return __jsx(React.Fragment, null, __jsx(Label, {\n    color: \"blue\",\n    content: formatDate(order.createdAt),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 13\n    }\n  }), __jsx(Popup, {\n    trigger: __jsx(Checkbox, {\n      toggle: true,\n      onChange: handleChangeStatus,\n      label: delivered ? \"Delivered\" : \"Pending\",\n      checked: delivered,\n      fitted: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 21\n      }\n    }),\n    header: \"Delivery Status\",\n    content: delivered ? \"Delivered\" : \"Pending\",\n    position: \"top center\",\n    on: ['hover'],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 13\n    }\n  }));\n};\n\nexport default OrderStatus;","map":{"version":3,"sources":["C:/Users/walter/Desktop/shoponix-mern-next-ecommerce-store/shoponix/components/Orders/OrderStatus.js"],"names":["React","useEffect","useRef","axios","Label","Checkbox","Popup","formatDate","baseUrl","OrderStatus","order","delivered","setDelivered","useState","status","isFirstRun","current","updateStatus","url","payload","_id","put","handleChangeStatus","prevState","createdAt"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,MAA3B,QAAyC,OAAzC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,KAAT,EAAgBC,QAAhB,EAA0BC,KAA1B,QAAuC,mBAAvC;AACA,OAAOC,UAAP,MAAuB,wBAAvB;AACA,OAAOC,OAAP,MAAoB,qBAApB;;AAEA,MAAMC,WAAW,GAAG,CAAC;AAACC,EAAAA;AAAD,CAAD,KAAa;AAC7B,QAAM,CAACC,SAAD,EAAYC,YAAZ,IAA4BZ,KAAK,CAACa,QAAN,CAAeH,KAAK,CAACI,MAAN,KAAiB,WAAhC,CAAlC;AAEA,QAAMC,UAAU,GAAGb,MAAM,CAAC,IAAD,CAAzB;AAEAD,EAAAA,SAAS,CAAC,MAAM;AACZ,QAAGc,UAAU,CAACC,OAAd,EAAsB;AAClBD,MAAAA,UAAU,CAACC,OAAX,GAAqB,KAArB;AACA;AACH;;AACDC,IAAAA,YAAY;AACf,GANQ,EAMN,CAACN,SAAD,CANM,CAAT;;AAQA,QAAMM,YAAY,GAAG,YAAY;AAC7B,UAAMC,GAAG,GAAI,GAAEV,OAAQ,aAAvB;AACA,UAAMW,OAAO,GAAG;AAAEC,MAAAA,GAAG,EAAEV,KAAK,CAACU,GAAb;AAAkBN,MAAAA,MAAM,EAAEH,SAAS,GAAG,WAAH,GAAiB;AAApD,KAAhB;AACA,UAAMR,KAAK,CAACkB,GAAN,CAAUH,GAAV,EAAeC,OAAf,CAAN;AACH,GAJD;;AAMA,QAAMG,kBAAkB,GAAG,MAAM;AAC7BV,IAAAA,YAAY,CAACW,SAAS,IAAI,CAACA,SAAf,CAAZ;AACH,GAFD;;AAIA,SACI,4BACI,MAAC,KAAD;AAAO,IAAA,KAAK,EAAC,MAAb;AAAoB,IAAA,OAAO,EAAEhB,UAAU,CAACG,KAAK,CAACc,SAAP,CAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,EAEI,MAAC,KAAD;AACI,IAAA,OAAO,EACH,MAAC,QAAD;AACI,MAAA,MAAM,MADV;AAEI,MAAA,QAAQ,EAAEF,kBAFd;AAGI,MAAA,KAAK,EAAEX,SAAS,GAAG,WAAH,GAAiB,SAHrC;AAII,MAAA,OAAO,EAAEA,SAJb;AAKI,MAAA,MAAM,EAAE,IALZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFR;AAUI,IAAA,MAAM,EAAC,iBAVX;AAWI,IAAA,OAAO,EAAEA,SAAS,GAAG,WAAH,GAAiB,SAXvC;AAYI,IAAA,QAAQ,EAAC,YAZb;AAaI,IAAA,EAAE,EAAE,CAAC,OAAD,CAbR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,CADJ;AAoBH,CA3CD;;AA6CA,eAAeF,WAAf","sourcesContent":["import React, { useEffect, useRef } from 'react';\nimport axios from 'axios';\nimport { Label, Checkbox, Popup } from 'semantic-ui-react';\nimport formatDate from '../../utils/formatDate';\nimport baseUrl from '../../utils/baseUrl';\n\nconst OrderStatus = ({order}) => {\n    const [delivered, setDelivered] = React.useState(order.status === 'delivered');\n\n    const isFirstRun = useRef(true);\n\n    useEffect(() => {\n        if(isFirstRun.current){\n            isFirstRun.current = false;\n            return;\n        }\n        updateStatus();\n    }, [delivered]);\n\n    const updateStatus = async () => {\n        const url = `${baseUrl}/api/orders`\n        const payload = { _id: order._id, status: delivered ? \"delivered\" : \"pending\" };\n        await axios.put(url, payload);\n    }\n\n    const handleChangeStatus = () => {\n        setDelivered(prevState => !prevState)\n    }\n\n    return(\n        <>\n            <Label color=\"blue\" content={formatDate(order.createdAt)}/>\n            <Popup \n                trigger={\n                    <Checkbox \n                        toggle \n                        onChange={handleChangeStatus}\n                        label={delivered ? \"Delivered\" : \"Pending\"}\n                        checked={delivered}\n                        fitted={true}\n                    />\n                }\n                header='Delivery Status'\n                content={delivered ? \"Delivered\" : \"Pending\"}\n                position='top center'\n                on={['hover']}\n            />\n        </>\n    )\n}\n\nexport default OrderStatus;"]},"metadata":{},"sourceType":"module"}